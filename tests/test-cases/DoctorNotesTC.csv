TestID,Name,Description,Prerequisites,Expected Output,Actual Output,Status
DN-001,Open Notes Load Existing Draft,Open consultation notes for a patient and verify existing draft loads,Consultation screen open with patient selected,Draft content loads into editor with last saved timestamp,test_dn001 passed: Existing draft loaded successfully.,pass 
DN-002,Start New Note Empty Draft,Open notes when no draft exists and verify editor state,Consultation screen open with patient selected,Editor opens empty with placeholder text and no error,test_dn002 passed: New note opened with empty draft.,pass 
DN-003,Auto Save Draft Interval,Type text and wait for autosave interval to elapse; verify draft saved,Editor open and typing started; autosave enabled,Draft saved to backend draft store; UI shows Last Saved timestamp,test_dn003 passed: Auto save draft interval verified successfully.,pass 
DN-004,Manual Save Finalize,Click Finalize Consultation and verify draft becomes final record,Editor contains content and user clicks Finalize,Draft moved to permanent records; record status set to LOCKED; success message shown,test_dn004 passed: Manual save and finalize verified successfully.,pass 
DN-005,Edit After Finalize Blocked,Attempt to edit notes after finalize and verify edits are blocked,Consultation has finalized note,UI prevents edits; save button disabled; message explains record is locked,test_dn005 passed: Editing blocked after finalization verified successfully.,pass 
DN-006,Recover Unsaved Draft After Reload,Type but do not finalize then reload page; verify draft persists,Editor had unsaved draft and autosave ran at least once,Draft restored on reload from server draft store; no data loss,, 
DN-007,Concurrent Editing Conflict,Simulate two doctor sessions editing same draft and verify conflict handling,Two active sessions editing same consultation,System detects conflict; shows merge UI or last-writer-wins policy with warning,, 
DN-008,Draft Versioning,Save multiple drafts and verify version history is available,Multiple autosave or manual saves occurred,Version list shows timestamps and ability to view previous versions,, 
DN-009,Attachment Save with Note,Attach a file while drafting and verify attachment persists with draft,Editor open; file attached,Attachment uploaded and linked to draft; visible in draft view,, 
DN-010,Large Note Performance,Enter a very large note (100k characters) and verify responsiveness,Editor open; large content pasted,UI remains responsive; autosave completes within SLA,, 
DN-011,Special Characters and Encoding,Enter emojis and non-Latin scripts and verify storage and display,Editor input includes emojis Sinhala Arabic etc,Characters preserved; display correct on reload and in final record,, 
DN-012,Empty Note Prevent Finalize,Attempt to finalize when note is empty and verify validation,Editor empty and user clicks Finalize,Validation prevents finalize; shows error "Note cannot be empty",, 
DN-013,Undo Redo Functionality,Make edits then use undo and redo and verify behavior,Editor supports undo redo,Undo reverts last change; redo reapplies; no data corruption,, 
DN-014,Autosave Failure Handling,Simulate backend autosave failure and verify UI feedback,Editor typing; autosave attempt fails,UI shows autosave error; retries scheduled; user can manually save,, 
DN-015,Timestamp Accuracy,Save draft and finalize then verify timestamps are recorded correctly,Save and finalize actions performed,Server timestamps recorded; UI shows accurate Last Saved and Finalized times,, 
DN-016,Audit Log Entry Created,Finalize a note and verify audit log entry exists,Note finalized,Audit log contains entry with user id action timestamp and action type,, 
DN-017,Search Within Notes,Search for a keyword in patient notes and verify results,Multiple notes exist with searchable text,Search returns notes containing keyword with context snippets,, 
DN-018,Locking Behavior During Finalize,Start finalize process then attempt concurrent save and verify locking,User A finalizes; User B attempts save,User B receives locked error; changes not applied; User A finalize succeeds,, 
DN-019,Restore From Previous Version,Restore an earlier draft version and verify content replaced,Version history available and user selects restore,Editor shows restored content; new draft created with restored content,, 
DN-020,Autosave Frequency Configurable,Change autosave interval and verify autosave respects new interval,Autosave interval setting changed to 10s,Autosave triggers at new interval; Last Saved updates accordingly,, 
DN-021,Rich Text Formatting Persistence,Apply bold italic lists and verify formatting persists after save,Editor supports rich text formatting,Formatting preserved after autosave reload and finalize,, 
DN-022,Attachment Size Limit Enforcement,Attach file exceeding size limit and verify rejection,Attempt to attach file > configured limit,UI rejects file with clear error message; file not uploaded,, 
DN-023,Offline Typing Sync,Type notes while offline then reconnect and verify sync,Editor used offline then network restored,Draft queued locally then synced to server; conflict resolution if remote changed,, 
DN-024,Permission Enforcement on Notes Access,Attempt to view or edit notes from unauthorized role and verify access denied,User role lacks doctor permissions,UI returns access denied; no note content visible,, 
DN-025,Delete Draft and Confirm Removal,Delete an in-progress draft and verify it is removed,Draft exists and user triggers delete,Draft removed from draft store; UI shows empty editor; audit log records deletion,,
